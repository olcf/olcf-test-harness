Search.setIndex({"docnames": ["developer_guide/intro", "developer_guide/modules", "developer_guide/modules/create_alt_config_file", "developer_guide/modules/layout_of_apps_directory", "developer_guide/modules/repositories/git_repository", "developer_guide/modules/runtests", "developer_guide/notational_conventions", "developer_guide/packages", "developer_guide/packages/bin", "developer_guide/packages/repositories", "developer_guide/references", "developer_guide/unit_test_framework", "developer_guide/unit_test_framework/git_ci_test_framework", "developer_guide/unit_test_framework/pytest_test_framework", "index", "user_guide/adding_new_machine", "user_guide/adding_new_test", "user_guide/contributing", "user_guide/envvars", "user_guide/extensions", "user_guide/launching", "user_guide/overview"], "filenames": ["developer_guide/intro.rst", "developer_guide/modules.rst", "developer_guide/modules/create_alt_config_file.rst", "developer_guide/modules/layout_of_apps_directory.rst", "developer_guide/modules/repositories/git_repository.rst", "developer_guide/modules/runtests.rst", "developer_guide/notational_conventions.rst", "developer_guide/packages.rst", "developer_guide/packages/bin.rst", "developer_guide/packages/repositories.rst", "developer_guide/references.rst", "developer_guide/unit_test_framework.rst", "developer_guide/unit_test_framework/git_ci_test_framework.rst", "developer_guide/unit_test_framework/pytest_test_framework.rst", "index.rst", "user_guide/adding_new_machine.rst", "user_guide/adding_new_test.rst", "user_guide/contributing.rst", "user_guide/envvars.rst", "user_guide/extensions.rst", "user_guide/launching.rst", "user_guide/overview.rst"], "titles": ["Introduction", "harness", "create_alt_config_file.py Module Documentation", "layout_of_apps_directory.py Module Documentation", "git_repository Module Documentation", "runtests.py Module Documentation", "Notational Conventions", "NCCS Harness Python Packages", "NCCS Harness bin package", "NCCS Harness repositories package", "References", "Git Unit Test Framework", "Usage and Developer Documentation for GitLab CI/CD", "Usage and Developer Documentation for Harness\u2019 pytest Unit Tests", "OLCF Test Harness Documentation", "Adding a New Machine", "Adding a New Test", "Contributing", "Environment Variables", "Extensions", "Quick-Start Guide", "Overview of the Test Harness"], "terms": {"The": [0, 4, 6, 8, 9, 11, 15, 16, 17, 18, 19, 20, 21], "olcf": [0, 9, 11, 16, 17, 18, 19, 20, 21], "test": [0, 9, 12, 15, 17, 18, 19], "har": [0, 16, 17, 18, 19], "hereaft": 0, "refer": 0, "i": [0, 4, 6, 8, 9, 15, 16, 17, 18, 19, 20, 21], "us": [0, 6, 9, 11, 15, 17, 18, 19, 21], "machin": [0, 9, 14, 16, 17, 18, 19, 20], "accept": [0, 20], "gener": [0, 16, 18, 20], "design": [0, 16, 20], "linux": [0, 16], "unix": [0, 6], "like": [0, 16, 17, 19, 20], "oper": [0, 21], "system": [0, 9, 15, 16, 18, 19, 20, 21], "goal": 0, "replic": 0, "user": [0, 6, 15, 16, 18, 19, 20, 21], "develop": [0, 11, 16, 17, 19], "product": [0, 18, 21], "environ": [0, 14, 15, 17, 19], "valid": [0, 16], "stress": 0, "thi": [0, 4, 8, 9, 15, 16, 17, 18, 19, 20], "accomplish": [0, 16], "repeatedli": 0, "build": [0, 15, 18, 19, 21], "applic": [0, 9, 14, 15, 18, 21], "submit": [0, 15, 16, 17, 18, 19], "job": [0, 15, 18, 19, 20, 21], "schedul": [0, 15, 16, 17, 18, 19, 20], "pb": [0, 15, 18], "lsf": [0, 15, 16, 18], "etc": [0, 19], "record": [0, 19], "result": [0, 16, 19, 20, 21], "run": [0, 6, 8, 14, 15, 16, 17, 19, 21], "top": [0, 16, 20], "level": [0, 16, 20], "directori": [0, 6, 11, 15, 16, 18, 19, 20], "contain": [0, 9, 11, 15, 16, 17, 18, 19, 20], "git": [0, 4, 9, 12, 15, 16, 17, 18, 20], "organ": [0, 18], "ha": [0, 16, 19, 21], "4": [0, 16, 17, 19, 20], "part": [0, 9], "first": [0, 16, 19, 20], "python": [0, 11, 16], "file": [0, 6, 11, 15, 16, 17, 18, 19, 21], "These": [0, 11, 15, 16, 18, 19, 20], "ar": [0, 6, 9, 11, 15, 16, 17, 18, 19, 20], "predominantli": 0, "locat": [0, 9, 11, 15, 16, 18, 19, 20], "second": [0, 16, 19], "runtim": 0, "configur": [0, 14, 16, 17, 19, 20], "variou": 0, "modulefil": [0, 11, 16, 20], "config": [0, 11, 15, 20], "third": 0, "unit": 0, "ci": [0, 11], "ci_testing_util": [0, 11], "fourth": 0, "document": [0, 8, 9, 11, 16], "doc": 0, "sphinx": 0, "requir": [0, 11, 14, 15, 18, 19], "3": [0, 16, 19], "6": 0, "greater": 0, "need": [0, 9, 11, 16, 18], "lmod": 0, "modul": [0, 6, 11, 14, 16, 18, 20], "bash": [0, 6, 10, 16, 19], "shell": [0, 6, 10, 16], "via": [0, 18, 20], "sourc": [0, 11, 14, 18, 19, 20], "control": [0, 21], "gitlab": [0, 9, 11, 16, 20], "cd": [0, 11, 16, 17, 20], "index": [0, 6, 14, 19], "search": [0, 6, 14, 19], "page": [0, 6, 14, 17], "class": [4, 17], "gitrepositori": 4, "git_remote_repository_url": 4, "none": [4, 18, 19], "my_repository_branch": 4, "master": [4, 9, 15, 18], "encapsul": 4, "data": [4, 9, 18, 19, 20], "transfer": [4, 9], "from": [4, 14, 15, 17, 18, 19, 20], "remot": [4, 9, 15, 17, 20], "repositori": [4, 7, 14, 15, 17, 18, 20], "paramet": [4, 15, 17], "str": 4, "A": [4, 15, 17, 18, 19, 21], "string": [4, 15, 18, 19], "url": [4, 9, 15, 18, 19], "clone": [4, 9, 15, 17, 18, 20], "branch": [4, 9, 15, 17, 18, 20], "properti": 4, "binarynam": 4, "name": [4, 9, 11, 15, 16, 17, 18, 19, 20], "binari": [4, 8, 16], "repository_branch": 4, "remote_repository_url": 4, "clonerepositori": 4, "destination_directori": 4, "destination_dir": 4, "must": [4, 9, 16, 18, 19, 20], "get_type_of_repositori": 4, "get_application_parent_directori": 4, "get_fully_qualified_url_of_application_parent_directori": 4, "get_repository_url_of_appl": 4, "get_repository_git_branch": 4, "we": [6, 9, 16, 20], "shall": 6, "adopt": 6, "book": 6, "learn": [6, 10], "nr1998": [6, 10], "ital": 6, "font": 6, "filenam": 6, "non": [6, 16, 17], "command": [6, 9, 11, 16, 17, 18, 21], "function": [6, 9, 16], "bold": 6, "built": [6, 16], "variabl": [6, 11, 14, 15, 17, 19, 20], "option": [6, 15, 16, 18, 19, 21], "line": [6, 16, 17, 18, 19, 21], "when": [6, 15, 16, 18, 19, 20], "thei": [6, 16], "within": [6, 11, 16], "regular": 6, "text": [6, 12], "type": [6, 9, 15, 18, 19], "constant": 6, "width": 6, "content": [6, 16, 17, 19], "follow": [6, 9, 11, 15, 16, 17, 19, 20, 21], "demonstr": 6, "some": [6, 15, 16, 19, 20], "creat": [6, 14, 16, 17, 18, 19, 20], "program": [6, 16, 21], "call": [6, 16, 19], "hellowold": 6, "sh": [6, 16], "vi": 6, "editor": 6, "usr": [6, 16], "bin": [6, 7, 11, 16], "env": [6, 16], "declar": 6, "gr": 6, "messag": [6, 17, 19, 20], "hello": [6, 16], "world": [6, 16], "printf": [6, 16], "": [6, 11, 15, 16, 17, 18, 20], "n": [6, 16, 18, 19], "It": [6, 16, 19], "necessari": 6, "set": [6, 9, 15, 17, 18, 19, 20, 21], "execut": [6, 14, 16, 19, 20], "permiss": 6, "helloworld": [6, 9], "chmod": 6, "x": [6, 16], "after": [6, 20], "provid": [8, 9, 15, 16, 17, 18, 19, 20, 21], "perform": [8, 16, 19], "task": [8, 16, 20], "major": 8, "runtest": [8, 17, 20, 21], "py": [8, 11, 16, 17, 19, 20, 21], "entri": [8, 16], "point": [8, 17], "create_alt_config_fil": 8, "current": [9, 15, 16, 17, 18, 20], "onli": [9, 15, 16, 18, 19], "support": [9, 15, 17, 18, 19, 20, 21], "passwordless": 9, "authent": [9, 18], "rgt_type_of_repositori": [9, 18], "permit": 9, "valu": [9, 16, 18, 19, 20], "rgt_git_data_transfer_protocol": [9, 18], "protocol": [9, 15, 18], "ssh": [9, 15, 18], "rgt_git_https_server_url": [9, 18], "base": [9, 16], "http": [9, 15, 17, 18, 19, 20], "rgt_git_ssh_server_url": [9, 18], "rgt_git_server_application_parent_dir": [9, 18], "parent": [9, 18], "rgt_git_machine_nam": [9, 18], "rgt_git_reps_branch": [9, 18, 20], "check": [9, 14, 18, 21], "out": [9, 20], "consid": [9, 18], "cc": 9, "ornl": 9, "gov": 9, "summit": 9, "server": [9, 18, 20], "checkout": [9, 15, 17, 20], "As": [9, 16], "given": [9, 16], "abov": [9, 16], "git_repositori": 9, "newham": 10, "c": [10, 16, 20], "rosenblatt": 10, "b": [10, 17], "1998": 10, "3rd": 10, "edit": [10, 17], "sesbastopol": 10, "usa": 10, "o": [10, 16, 19, 20], "reilli": 10, "pytest": 11, "implement": [11, 17], "servic": 11, "can": [11, 15, 16, 18, 19, 20], "also": [11, 16, 18, 19, 20], "ran": [11, 16], "without": 11, "main": [11, 16], "driver": [11, 20], "script": [11, 14, 15, 18, 19, 20, 21], "harness_unit_test": 11, "an": [11, 15, 16, 17, 18, 19, 20], "eponym": 11, "subdirectori": [11, 16], "For": [11, 15, 16, 17, 18, 19, 20], "ascent": 11, "its": [11, 16, 21], "tet": 11, "input_fil": 11, "input": [11, 14, 15, 17, 20, 21], "sometim": 11, "fixtur": 11, "lastli": 11, "runtime_environ": 11, "__init__": 11, "run_generic_unit_test": 11, "run_machine_specific_unit_test": 11, "__pycache__": 11, "harness_unittests_except": 11, "harness_unittests_log": 11, "test_concurr": 11, "test_runtest": 11, "olcf5_accept": 11, "unit_test": 11, "lua": 11, "genericmachin": 11, "genericconfigtag": 11, "To": [11, 16, 17, 18, 19, 20], "one": [11, 16, 18, 19, 20], "do": [11, 15, 16, 17, 18], "export": [11, 16, 19, 20], "olcf_harness_dir": [11, 15, 16, 20], "pwd": [11, 16, 20], "ignor": [11, 16], "cach": 11, "load": [11, 16, 20], "olcf_har": [11, 15, 16, 20], "hut_machine_nam": 11, "hut_config_tag": 11, "tag": [11, 15, 18, 19], "appropi": 11, "defin": [11, 18, 19, 20], "environment": 11, "see": [11, 15, 16, 19, 20], "list": [11, 16, 19, 20, 21], "usag": [11, 15, 17], "stud": 12, "framework": 12, "overview": [14, 20], "purpos": [14, 15, 16, 18], "quick": 14, "start": [14, 16, 19, 21], "instal": 14, "launch": [14, 15, 16, 18, 19], "oth": [14, 15, 16, 17, 18, 19, 21], "find": [14, 16, 18], "output": [14, 16, 17, 19], "time": [14, 15, 19], "extens": [14, 20], "specif": [14, 15, 16, 17, 19, 20], "ad": [14, 20], "new": [14, 20], "code": [14, 18, 19, 20], "structur": 14, "exampl": [14, 15, 18, 19, 20], "ground": 14, "up": 14, "best": 14, "practic": 14, "basic": [14, 16, 17], "influxdb": [14, 18], "event": [14, 16, 20], "log": [14, 17, 18], "metric": [14, 16, 20], "monitor": 14, "health": [14, 18], "individu": [14, 21], "node": [14, 16, 18], "alia": 14, "contribut": 14, "report": [14, 20], "bug": 14, "request": 14, "featur": [14, 16, 19], "step": [15, 16, 17], "add": [15, 16, 17, 19, 20], "e": [15, 16, 20], "g": [15, 16, 20], "lyra": 15, "ini": [15, 16, 17, 18, 20], "place": [15, 16, 19, 20], "hold": [15, 16], "all": [15, 16, 17, 18, 20], "particular": 15, "which": [15, 16, 18, 19, 20], "path_to_test": [15, 20], "discuss": [15, 16, 19], "below": [15, 16, 18, 19], "creation": 15, "detail": [15, 16, 18, 19, 20], "explan": [15, 19], "throughout": 15, "gpus_per_nod": 15, "rgt_gpus_per_nod": [15, 18], "could": 15, "overrid": [15, 18, 20], "exist": [15, 17, 19, 20], "If": [15, 16, 18, 19, 20], "rgt_scheduler_typ": [15, 18], "machinedetail": 15, "machine_nam": [15, 16, 18, 20], "crusher": 15, "linux_x86_64": [15, 18], "ibm_power9": [15, 18], "machine_typ": 15, "slurm": [15, 16, 18], "scheduler_typ": 15, "srun": [15, 16, 18], "aprun": 15, "jsrun": [15, 18], "poe": 15, "joblauncher_typ": 15, "default": [15, 16, 18, 19, 20], "queue": [15, 18, 20], "partit": [15, 18], "batch_queu": [15, 18, 20], "batch": [15, 16, 20], "overridden": [15, 18, 20], "project_id": [15, 20], "account": [15, 17, 19, 20], "ani": [15, 16, 17, 18, 19, 20], "flag": [15, 17, 18, 20], "ie": [15, 16, 17, 18, 19, 20], "m": [15, 17, 18, 20], "clusternam": 15, "submit_arg": 15, "nccs_test_harness_modul": 15, "specifi": [15, 16, 17, 18, 19, 20], "about": [15, 16, 18, 19], "each": [15, 16, 18, 19, 20, 21], "becom": 15, "rgt_cpus_per_nod": [15, 18], "templat": 15, "node_count": 15, "1000": 15, "cpus_per_nod": 15, "64": [15, 19], "sockets_per_nod": 15, "2": [15, 16, 19], "8": 15, "section": [15, 16, 18, 19, 20], "mode": [15, 16, 20, 21], "repodetail": 15, "type_of_repositori": 15, "repo": [15, 16, 17, 18, 20], "git_reps_branch": [15, 20], "git_data_transfer_protocol": 15, "sub": [15, 16], "project": [15, 18, 20], "group": [15, 16, 18], "git_server_application_parent_dir": 15, "your": [15, 16, 17, 18, 19], "look": [15, 16, 19], "git_ssh_server_url": 15, "git_machine_nam": 15, "frontier": 15, "github": [15, 16, 17, 20], "com": [15, 17, 19, 20], "git_https_server_url": 15, "www": 15, "testshot": 15, "testshotdefault": 15, "path": [15, 16, 17, 18, 19, 20], "scratch": [15, 16, 18, 19, 20], "space": [15, 16, 17, 18, 19], "path_to_sspac": 15, "identifi": [15, 17, 19], "summit_tshot_cuda11": 15, "system_log_tag": 15, "frontier_test": 15, "rgt_": [15, 18], "variable_nam": 15, "prior": [15, 18], "howev": 15, "rgt_batch_queu": [15, 18, 20], "rgt_project_id": [15, 18, 20], "mai": [15, 16, 18, 19, 20], "incorrect": [15, 16, 19], "handl": 15, "pleas": [15, 17, 19], "describ": [16, 18], "how": [16, 17, 19, 20], "associ": [16, 19], "target": [16, 20], "should": [16, 20], "have": [16, 18, 19, 20, 21], "shown": 16, "rgt_test_input": [16, 17, 18, 20], "other": [16, 21], "share": 16, "multipl": [16, 19, 20], "own": [16, 21], "mandatori": 16, "modifi": 16, "resid": 16, "instanc": [16, 18, 19, 20], "let": 16, "assum": 16, "hello_mpi": [16, 20], "singl": [16, 19, 21], "two": [16, 19, 20], "would": [16, 17, 19, 20], "separ": [16, 18, 19, 20], "includ": [16, 17], "c_n001": [16, 20], "c_n002": [16, 20], "note": [16, 18, 19, 20], "convent": [16, 18, 19], "you": [16, 17, 18, 19, 20], "avoid": [16, 17], "special": 16, "charact": 16, "inform": [16, 17, 19], "python3": 16, "configpars": 16, "format": [16, 17, 18, 19, 20], "field": [16, 19], "re": [16, 18, 19], "cannot": [16, 18, 20], "referenc": [16, 19, 20], "allow": [16, 19], "stage": [16, 18, 20], "abl": 16, "recommend": [16, 19], "v": 16, "definit": 16, "foo": 16, "bar": 16, "issu": [16, 17, 20], "132": 16, "sampl": 16, "mention": 16, "comment": [16, 17, 19], "my_custom_vari": 16, "abc": 16, "job_nam": 16, "hello_mpi_c": 16, "walltim": 16, "10": 16, "variablenam": 16, "notat": 16, "previous": 16, "batch_filenam": 16, "run_": 16, "build_cmd": 16, "build_hello_mpi_c": 16, "check_cmd": [16, 19], "check_hello_mpi_c": 16, "report_cmd": [16, 19], "report_hello_mpi_c": 16, "executable_path": 16, "resubmit": [16, 21], "0": [16, 19], "conjunct": 16, "argument": 16, "limit": 16, "total": 16, "submiss": [16, 19, 20], "inclus": 16, "initi": 16, "don": 16, "t": [16, 19], "indefinit": 16, "resubmiss": 16, "max_submiss": 16, "kei": 16, "__nodes__": 16, "1": [16, 18, 19], "total_process": 16, "16": 16, "processes_per_nod": 16, "obtain_from_environ": [16, 18], "pull": [16, 17], "rgt_node": 16, "echo": 16, "case": [16, 18, 19], "where": [16, 20], "reli": 16, "standard": [16, 17, 19], "tool": [16, 21], "remov": 16, "empti": 16, "fail": [16, 19, 20], "subprocess": 16, "return": 16, "success": [16, 19, 20], "zero": 16, "otherwis": [16, 18], "l": [16, 20], "gcc": 16, "openmpi": 16, "mkdir": [16, 20], "p": [16, 18], "mpicc": 16, "build_dir": [16, 20], "copi": 16, "mean": 16, "written": 16, "were": 16, "regardless": 16, "actual": 16, "likewis": 16, "rel": 16, "keyword": [16, 19], "form": [16, 17], "__keyword__": 16, "appropri": 16, "match": 16, "sbatch": 16, "j": 16, "__job_name__": 16, "__walltime__": 16, "__executable_path__": 16, "scripts_dir": 16, "__scripts_dir__": 16, "work_dir": [16, 20], "__working_dir__": 16, "results_dir": [16, 17, 20], "__results_dir__": 16, "harness_id": 16, "__harness_id__": 16, "__build_dir__": 16, "print": [16, 18, 20], "fgrep": 16, "rgt_app_source_": 16, "rgt_test_": 16, "setup": [16, 20], "reduc": [16, 19], "duplic": 16, "ensur": 16, "same": [16, 18, 19, 20], "common_script": 16, "setup_env": 16, "make": [16, 17], "work": [16, 18, 19], "fi": 16, "chang": [16, 17, 20], "scontrol": 16, "show": [16, 20], "hostnam": [16, 19], "log_binary_execution_tim": [16, 19], "scriptsdir": 16, "uniqueid": 16, "__total_processes__": 16, "final": 16, "back": 16, "depend": 16, "size": [16, 19], "want": [16, 17], "cp": 16, "rf": 16, "output_build": [16, 19, 20], "txt": [16, 19, 20], "check_executable_driv": 16, "alwai": 16, "kill_test": 16, "present": [16, 19], "condit": 16, "around": 16, "test_harness_driv": 16, "__resubmit__": 16, "No": [16, 20], "r": 16, "__max_submissions__": 16, "esac": 16, "run_arch": [16, 18, 19, 20], "workspac": 16, "deriv": [16, 19], "rgt_path_to_sspac": [16, 18, 19, 20], "One": 16, "access": [16, 18, 20], "script_dir": 16, "store": [16, 19, 20], "correctresult": 16, "insid": [16, 18], "popul": 16, "still": 16, "previou": 16, "so": [16, 19, 20], "either": [16, 18], "absolut": [16, 19], "verifi": [16, 20], "thu": 16, "most": [16, 19, 20], "succeed": 16, "complet": [16, 20], "gave": 16, "answer": 16, "5": 16, "correctli": 16, "exit": [16, 19, 20], "than": [16, 18], "been": [16, 19], "stdout": [16, 20], "stderr": [16, 20], "captur": [16, 18], "output_check": [16, 19, 20], "comput": [16, 19, 20], "output_report": 16, "In": [16, 17, 18, 19, 20, 21], "mani": [16, 18, 19], "serv": [16, 20], "both": 16, "often": 16, "just": [16, 20], "altern": 16, "op": 16, "thought": 16, "process": [16, 19], "mpi": 16, "differ": [16, 18, 19], "count": 16, "integr": [16, 17], "focus": 16, "At": 16, "check_hello_world": 16, "hello_world_n0001": 16, "hello_world_n0002": 16, "veri": [16, 19], "common": [16, 19], "go": [16, 20], "ahead": 16, "root": [16, 18], "test_src": 16, "stdio": [16, 20], "h": [16, 20], "int": 16, "argc": 16, "char": 16, "argv": 16, "rank": 16, "nrank": 16, "mpi_init": 16, "mpi_comm_rank": 16, "mpi_comm_world": 16, "mpi_comm_s": 16, "d": 16, "mpi_fin": 16, "hello_world": 16, "good": [16, 19], "reset": 16, "here": [16, 20], "our": 16, "now": 16, "compil": 16, "o1": 16, "wall": 16, "give": 16, "construct": [16, 17, 19], "ll": 16, "infus": 16, "sinc": [16, 18, 19, 20], "number": [16, 18, 19], "per": [16, 18, 20], "might": 16, "too": 16, "ppn": 16, "held": 16, "think": 16, "later": [16, 19], "anyth": 16, "notic": 16, "help": [16, 17, 20, 21], "u": [16, 17], "much": 16, "possibl": [16, 19], "difficult": [16, 19], "maintain": 16, "long": 16, "next": [16, 20], "move": 16, "shouldn": 16, "try": [16, 17], "debug": [16, 20], "slurm_nnod": 16, "over": [16, 19], "sever": [16, 18], "reason": [16, 19], "correct": [16, 19], "inadvert": 16, "rgt_submit_arg": [16, 18], "adapt": 16, "__ppn__": 16, "ntask": 16, "leav": [16, 19], "write": [16, 18, 19], "recal": 16, "expected_rank": 16, "grep": 16, "wc": 16, "found": [16, 20], "put": 16, "immedi": 16, "link": [16, 20], "symbol": [16, 20], "achiev": 16, "ln": 16, "expand": 16, "everyth": 16, "els": 16, "modif": 16, "flexibl": [16, 18, 21], "lot": 16, "power": [16, 19], "That": 16, "diminish": 16, "poor": 16, "With": [16, 18], "mind": 16, "dure": [16, 18, 19], "independ": 16, "statement": 16, "chanc": 16, "those": [16, 18, 19], "diverg": 16, "simpli": [16, 19], "usabl": [16, 19], "respons": 16, "understand": 16, "outsid": [16, 18], "my_custom_var_default": 16, "my_env_var": 16, "Then": [16, 19], "__my_custom_variable__": 16, "rgt_machine_nam": [16, 18, 19], "inherit": 16, "intern": [16, 20], "translat": 16, "__machine_name__": 16, "lead": 16, "last": [16, 19], "error": [16, 17, 19, 20], "increas": 16, "reusabl": 16, "aid": 16, "collabor": 17, "improv": 17, "greatli": 17, "appreci": 17, "highli": 17, "encourag": 17, "effici": 17, "method": [17, 20], "what": 17, "rgt": [17, 20], "inp": 17, "logfil": [17, 20], "begin": [17, 19], "titl": 17, "team": 17, "quickli": 17, "lack": 17, "block": 17, "invok": 17, "welcom": 17, "through": [17, 18, 19], "pr": 17, "fix": 17, "cite": 17, "bodi": 17, "fork": 17, "person": 17, "usernam": [17, 19], "devel": 17, "upstream": 17, "fetch": [17, 18], "updat": [17, 20], "local": 17, "issue64": 17, "commit": 17, "file1": 17, "summar": 17, "push": 17, "origin": 17, "open": 17, "guid": 17, "under": 17, "more": [17, 18, 20], "regard": 17, "meantim": 17, "rule": 17, "indent": 17, "lowercas": 17, "underscor": 17, "example_var": 17, "explain": 17, "trivial": 17, "hard": 17, "undergo": 17, "review": 17, "evalu": [17, 18], "util": [17, 19], "approv": 17, "discret": 17, "extrem": 18, "wai": [18, 19, 20], "There": [18, 20], "few": 18, "addit": [18, 19], "behavior": 18, "mpi_vers": 18, "rgt_mpi_vers": 18, "cover": 18, "ingest": [18, 20], "core": [18, 21], "parameter": 18, "ONE": 18, "avail": [18, 20], "canl": 18, "replac": 18, "while": 18, "explicitli": 18, "olcf_harness_machin": [18, 20], "statu": [18, 19, 20], "databas": [18, 19, 20], "rgt_machine_typ": 18, "architectur": 18, "rgt_joblauncher_typ": 18, "launcher": 18, "mpirun": 18, "cpu": 18, "gpu": 18, "rgt_submit_queu": [18, 20], "enforc": 18, "q": 18, "id": [18, 19, 20], "proj_id": 18, "highest": [18, 20], "preced": [18, 20], "rgt_submit_acct": [18, 20], "rgt_nccs_test_harness_modul": 18, "commun": 18, "navig": 18, "correspond": [18, 20], "collect": [18, 21], "client": 18, "rgt_system_log_tag": [18, 19], "path_to_rgt_packag": [18, 19], "rgt_app_source_dir": 18, "rgt_test_build_dir": 18, "rgt_test_runarchive_dir": 18, "archiv": [18, 19], "rgt_test_scripts_dir": 18, "rgt_test_status_dir": 18, "rgt_test_work_dir": 18, "_": 18, "rgt_influxdb_dis": 18, "disabl": 18, "disable_influxdb": 18, "dot": 18, "test_id": [18, 19], "prevent": 18, "futur": 18, "rgt_influxdb_uri": [18, 19], "semi": 18, "colon": 18, "my": [18, 19, 20], "port": 18, "api": [18, 19], "v2": [18, 19], "org": [18, 19], "myorg": 18, "bucket": [18, 19], "mybucket": 18, "OR": 18, "latter": 18, "rgt_influxdb_bucket": 18, "rgt_influxdb_org": 18, "automat": [18, 19, 20], "detect": 18, "precis": [18, 19], "rgt_influxdb_token": [18, 19], "token": [18, 19], "encod": 18, "rgt_influxdb_precis": 18, "millisecond": 18, "nanosecond": 18, "rgt_influxdb_dry_run": 18, "send": 18, "rgt_node_location_fil": [18, 19], "metadata": [18, 19], "physic": 18, "sensit": [18, 19], "enabl": 19, "behind": 19, "timestamp": 19, "filesystem": 19, "addition": 19, "seri": 19, "domain": 19, "minim": 19, "suppli": 19, "semicolon": 19, "uri": 19, "full": 19, "relat": 19, "measur": 19, "runtag": 19, "equal": [19, 20], "app": [19, 20], "uniqu": 19, "recent": [19, 20], "kept": [19, 20], "build_directori": [19, 20], "workdir": [19, 20], "event_filenam": 19, "mirror": 19, "event_nam": 19, "build_start": 19, "event_subtyp": 19, "whether": [19, 21], "end": 19, "event_tim": 19, "event_typ": 19, "binary_execut": 19, "event_valu": 19, "indic": 19, "wa": [19, 20], "job_account_id": 19, "job_id": 19, "jobid": 19, "failur": 19, "output_txt": 19, "mine": 19, "kb": 19, "check_alia": 19, "alpha": 19, "numer": 19, "supplement": 19, "larg": [19, 21], "self": 19, "explanatori": 19, "build_end": 19, "submit_end": 19, "binary_execute_end": 19, "check_end": 19, "encount": 19, "read": 19, "err": [19, 20], "capabl": 19, "great": 19, "visual": 19, "certain": 19, "conform": 19, "hashtag": 19, "metric_name_1": 19, "value_1": 19, "metric_name_2": 19, "value_2": 19, "value_3": 19, "metric_name_3": 19, "tvalue_3": 19, "least": 19, "calcul": 19, "between": 19, "binary_execute_start": 19, "build_tim": 19, "execution_tim": 19, "respect": 19, "interest": 19, "dummi": 19, "proper": 19, "placement": 19, "address": 19, "centric": 19, "similar": 19, "trigger": 19, "presenc": 19, "nodecheck": 19, "geospati": 19, "nodenam": 19, "node1": 19, "pass": 19, "node2": 19, "node3": 19, "hw": 19, "column": 19, "dashboard": 19, "squar": 19, "brace": 19, "status": 19, "bad": 19, "ok": 19, "perf": 19, "classifi": 19, "intend": 19, "known": 19, "eas": 19, "hardwar": 19, "bu": 19, "fault": 19, "network": 19, "node_health": 19, "tabl": 19, "By": 19, "cabinet": 19, "board": 19, "row": 19, "correl": 19, "bypass": 19, "json": 19, "desir": 19, "portion": 19, "node001": 19, "c0": 19, "switch": 19, "s0": 19, "slot": 19, "node002": 19, "s1": 19, "queri": 19, "filter": 19, "alias": 19, "dictat": 19, "come": 19, "shape": 19, "distinct": 19, "mpi_err": 19, "bus_err": 19, "timeout": 19, "input_err": 19, "alphabet": 19, "dimens": 19, "categor": 19, "sent": 19, "alongsid": 19, "done": 20, "obtain": 20, "alreadi": 20, "sw": 20, "andes": 20, "example_machin": 20, "olcf_exampl": 20, "summit_testshot": 20, "prepar": 20, "visibl": 20, "host": 20, "manual": 20, "area": 20, "latest": 20, "version": 20, "well": 20, "prefer": 20, "inputfil": 20, "stop": [20, 21], "instead": 20, "harness_task": 20, "testid": 20, "cleanli": 20, "simultan": 20, "warn": 20, "continu": [20, 21], "receiv": 20, "primari": 20, "configfil": 20, "loglevel": 20, "notset": 20, "info": 20, "critic": 20, "screen": 20, "destin": 20, "consol": 20, "use_harness_tasks_in_rgt_input_fil": 20, "firework": 20, "beta": 20, "sb": 20, "build_out": 20, "doe": 20, "appli": 20, "track": 20, "130": 20, "nearli": 20, "directli": 20, "lowest": 20, "except": 20, "whatev": 20, "becaus": 20, "know": 20, "who": 20, "onc": 20, "relev": 20, "status_dir": 20, "consist": 20, "seen": 20, "uncaptur": 20, "mechan": 20, "commonli": 20, "produc": 20, "autom": 21, "softwar": 21, "standalon": 21, "simul": 21, "workload": 21, "iter": 21, "anoth": 21, "brief": 21, "logic": 21, "flow": 21}, "objects": {"": [[2, 0, 0, "-", "create_alt_config_file"], [4, 0, 0, "-", "git_repository"], [3, 0, 0, "-", "layout_of_apps_directory"], [5, 0, 0, "-", "runtests"]], "git_repository": [[4, 1, 1, "", "GitRepository"], [4, 3, 1, "", "get_application_parent_directory"], [4, 3, 1, "", "get_fully_qualified_url_of_application_parent_directory"], [4, 3, 1, "", "get_repository_git_branch"], [4, 3, 1, "", "get_repository_url_of_application"], [4, 3, 1, "", "get_type_of_repository"]], "git_repository.GitRepository": [[4, 2, 1, "", "binaryName"], [4, 2, 1, "", "cloneRepository"], [4, 2, 1, "", "remote_repository_URL"], [4, 2, 1, "", "repository_branch"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "titleterms": {"introduct": 0, "raison": 0, "d": 0, "etr": 0, "organiz": [0, 11], "structur": [0, 11, 16], "prequisit": 0, "indic": [0, 6, 14], "tabl": [0, 6, 14], "har": [1, 7, 8, 9, 11, 13, 14, 20, 21], "create_alt_config_fil": 2, "py": [2, 3, 5], "modul": [2, 3, 4, 5, 8, 9], "document": [2, 3, 4, 5, 12, 13, 14], "layout_of_apps_directori": 3, "git_repositori": 4, "runtest": 5, "notat": 6, "convent": 6, "ncc": [7, 8, 9], "python": 7, "packag": [7, 8, 9], "bin": 8, "intoduct": [8, 9], "repositori": [9, 16], "prerequisit": 9, "environment": 9, "variabl": [9, 16, 18], "exampl": [9, 16], "refer": 10, "git": 11, "unit": [11, 13], "test": [11, 13, 14, 16, 20, 21], "framework": 11, "set": [11, 16], "up": [11, 16], "runtim": 11, "environ": [11, 16, 18, 20], "gener": 11, "machin": [11, 15], "specif": [11, 18], "run": [11, 18, 20], "api": 11, "usag": [12, 13, 20], "develop": [12, 13], "gitlab": 12, "ci": 12, "cd": 12, "pytest": 13, "olcf": 14, "user": 14, "guid": [14, 20], "ad": [15, 16], "new": [15, 16, 17], "creat": 15, "basic": [15, 20], "configur": [15, 18], "applic": [16, 19, 20], "sourc": [16, 17], "code": [16, 17], "url": 16, "input": 16, "requir": 16, "script": 16, "build": [16, 20], "job": 16, "templat": 16, "check": [16, 19, 20], "report": [16, 17], "from": 16, "ground": 16, "best": 16, "practic": 16, "us": [16, 20], "central": [16, 20], "defin": 16, "replac": 16, "instead": 16, "envvar": 16, "expect": 16, "contribut": 17, "bug": 17, "request": 17, "featur": 17, "time": [18, 20], "extens": [18, 19], "influxdb": 19, "event": 19, "log": [19, 20], "metric": 19, "monitor": 19, "health": 19, "individu": 19, "node": 19, "alia": 19, "quick": 20, "start": 20, "instal": 20, "option": 20, "1": 20, "pre": 20, "built": 20, "oth": 20, "On": 20, "Andes": 20, "crusher": 20, "frontier": 20, "summit": 20, "2": 20, "your": 20, "own": 20, "copi": 20, "launch": 20, "command": 20, "line": 20, "paramet": 20, "find": 20, "output": 20, "submit": 20, "maintain": 20, "file": 20, "overview": 21, "purpos": 21, "execut": 21}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Introduction": [[0, "introduction"]], "Raison d\u2019etre": [[0, "raison-d-etre"]], "Organizational Structure": [[0, "organizational-structure"], [11, "organizational-structure"]], "Prequisites": [[0, "prequisites"]], "Indices and tables": [[0, "indices-and-tables"], [6, "indices-and-tables"], [14, "indices-and-tables"]], "harness": [[1, "harness"]], "create_alt_config_file.py Module Documentation": [[2, "create-alt-config-file-py-module-documentation"]], "layout_of_apps_directory.py Module Documentation": [[3, "layout-of-apps-directory-py-module-documentation"]], "git_repository Module Documentation": [[4, "git-repository-module-documentation"]], "runtests.py Module Documentation": [[5, "runtests-py-module-documentation"]], "Notational Conventions": [[6, "notational-conventions"]], "NCCS Harness Python Packages": [[7, "nccs-harness-python-packages"]], "NCCS Harness bin package": [[8, "nccs-harness-bin-package"]], "Intoduction": [[8, "intoduction"], [9, "intoduction"]], "Modules": [[8, "modules"], [9, "modules"]], "NCCS Harness repositories package": [[9, "nccs-harness-repositories-package"]], "Prerequisite Environmental Variables": [[9, "prerequisite-environmental-variables"]], "Examples": [[9, "examples"]], "References": [[10, "references"]], "Git Unit Test Framework": [[11, "git-unit-test-framework"]], "Setting Up the Harness Unit Testing Runtime Environment": [[11, "setting-up-the-harness-unit-testing-runtime-environment"]], "Generic Tests": [[11, "generic-tests"], [11, "id1"]], "Machine Specific Tests": [[11, "machine-specific-tests"], [11, "id2"]], "Running the Harness Unit Tests": [[11, "running-the-harness-unit-tests"]], "Harness Unit Testing API": [[11, "harness-unit-testing-api"]], "Usage and Developer Documentation for GitLab CI/CD": [[12, "usage-and-developer-documentation-for-gitlab-ci-cd"]], "Usage and Developer Documentation for Harness\u2019 pytest Unit Tests": [[13, "usage-and-developer-documentation-for-harness-pytest-unit-tests"]], "OLCF Test Harness Documentation": [[14, "olcf-test-harness-documentation"]], "User Guide": [[14, null]], "Adding a New Machine": [[15, "adding-a-new-machine"]], "Create a Basic Machine Configuration": [[15, "create-a-basic-machine-configuration"]], "Adding a New Test": [[16, "adding-a-new-test"]], "Application Source Code Repository Structure": [[16, "application-source-code-repository-structure"]], "Repository URL": [[16, "repository-url"]], "Repository structure": [[16, "repository-structure"]], "Example Repository Structure": [[16, "example-repository-structure"]], "Application Test Input": [[16, "application-test-input"]], "Required Application Test Scripts": [[16, "required-application-test-scripts"]], "Build Script": [[16, "build-script"]], "Job Script Template": [[16, "job-script-template"]], "Check Script": [[16, "check-script"]], "Report Script": [[16, "report-script"]], "Example Test from the Ground Up": [[16, "example-test-from-the-ground-up"]], "Best Practices": [[16, "best-practices"]], "Use a centralized script to set up the environment": [[16, "use-a-centralized-script-to-set-up-the-environment"]], "Define replacement variables instead of EnvVars": [[16, "define-replacement-variables-instead-of-envvars"]], "Check for expected environment variables": [[16, "check-for-expected-environment-variables"]], "Contributing": [[17, "contributing"]], "Reporting Bugs": [[17, "reporting-bugs"]], "Requesting New Features": [[17, "requesting-new-features"]], "Contributing Source Code": [[17, "contributing-source-code"]], "Environment Variables": [[18, "environment-variables"]], "Configuration Variables": [[18, "configuration-variables"]], "Run-Time Variables": [[18, "run-time-variables"]], "Extension-specific Variables": [[18, "extension-specific-variables"]], "Extensions": [[19, "extensions"]], "InfluxDB Event Logging": [[19, "influxdb-event-logging"]], "Logging application metrics to InfluxDB": [[19, "logging-application-metrics-to-influxdb"]], "Monitoring the health of individual nodes": [[19, "monitoring-the-health-of-individual-nodes"]], "Check Alias": [[19, "check-alias"]], "Quick-Start Guide": [[20, "quick-start-guide"]], "Installation": [[20, "installation"]], "Option 1: Using the centralized (pre-built) OTH": [[20, "option-1-using-the-centralized-pre-built-oth"]], "On Andes, Crusher, Frontier, and Summit": [[20, "on-andes-crusher-frontier-and-summit"]], "Option 2: Using your own copy of the harness": [[20, "option-2-using-your-own-copy-of-the-harness"]], "Launching the OTH": [[20, "launching-the-oth"]], "Basic Usage": [[20, "basic-usage"]], "Command-line Options": [[20, "command-line-options"]], "Run-time environment parameters": [[20, "run-time-environment-parameters"]], "Finding Test Output": [[20, "finding-test-output"]], "Build, Submit, and Check Output": [[20, "build-submit-and-check-output"]], "Application Output": [[20, "application-output"]], "Harness-maintained Log Files": [[20, "harness-maintained-log-files"]], "Overview of the Test Harness": [[21, "overview-of-the-test-harness"]], "Purpose": [[21, "purpose"]], "Execution Overview": [[21, "execution-overview"]]}, "indexentries": {"create_alt_config_file": [[2, "module-create_alt_config_file"]], "module": [[2, "module-create_alt_config_file"], [3, "module-layout_of_apps_directory"], [4, "module-git_repository"], [5, "module-runtests"]], "layout_of_apps_directory": [[3, "module-layout_of_apps_directory"]], "gitrepository (class in git_repository)": [[4, "git_repository.GitRepository"]], "binaryname (gitrepository property)": [[4, "git_repository.GitRepository.binaryName"]], "clonerepository() (gitrepository method)": [[4, "git_repository.GitRepository.cloneRepository"]], "get_application_parent_directory() (in module git_repository)": [[4, "git_repository.get_application_parent_directory"]], "get_fully_qualified_url_of_application_parent_directory() (in module git_repository)": [[4, "git_repository.get_fully_qualified_url_of_application_parent_directory"]], "get_repository_git_branch() (in module git_repository)": [[4, "git_repository.get_repository_git_branch"]], "get_repository_url_of_application() (in module git_repository)": [[4, "git_repository.get_repository_url_of_application"]], "get_type_of_repository() (in module git_repository)": [[4, "git_repository.get_type_of_repository"]], "git_repository": [[4, "module-git_repository"]], "remote_repository_url (gitrepository property)": [[4, "git_repository.GitRepository.remote_repository_URL"]], "repository_branch (gitrepository property)": [[4, "git_repository.GitRepository.repository_branch"]], "runtests": [[5, "module-runtests"]]}})